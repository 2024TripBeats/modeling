import pandas as pd

# user_preferences: 리스트 of 장소 이름_선호도 순서 
def recommend_places(similarity_df, user_preferences):
    # 가중치 정의
    weights = [1.0, 0.8, 0.5, 0.1, 0.05]
    score_dict = {place: weights[i] for i, place in enumerate(user_preferences)}

    # 각 장소의 총 점수를 계산
    total_scores = similarity_df.apply(lambda row: sum(score_dict.get(col, 0) * row[col] for col in user_preferences), axis=1)
    recommendations_dict = total_scores.sort_values(ascending=False).to_dict()
    return recommendations_dict
